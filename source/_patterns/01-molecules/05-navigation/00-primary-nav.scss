@mixin hamburger($size, $barSize, $spacing, $color, $barWidth) {
  width: $size;
  height: $size;
  transform: rotate(0deg);
  transition: .5s ease-in-out;
  cursor: pointer;
  display: block;
  span {
    display: block;
    position: absolute;
    height: $barSize;
    width: $barWidth;
    background: $color;
    opacity: 1;
    left: 0;
    right: 0;
    margin-left: auto;
    margin-right: auto;
    transform: rotate(0deg);
    transition: .15s ease-in-out;
    margin-top: 10%;
    &:nth-child(1) {
      top: 0;
    }
    &:nth-child(2) {
      top: (($barSize + $spacing) * 2);
    }
    &:nth-child(3) {
      top: (($barSize + $spacing) * 2);
    }
    &:nth-child(4) {
      top: (($barSize + $spacing) * 4);
    }
  }
  &__open span {
    &:nth-child(1) {
      top: (($barSize + $spacing) * 2);
      width: 0;
      left: 50%;
    }
    &:nth-child(2) {
      transform: rotate(45deg);
    }
    &:nth-child(3) {
      transform: rotate(-45deg);
    }
    &:nth-child(4) {
      top: (($barSize + $spacing) * 2);
      width: 0;
      left: 50%;
    }
  }
}

.navigation {
  &--primary {
    @include font-primary-light-uppercase(0.75em);
    letter-spacing:0.1em;

    &__hamburger {
      position: absolute;
      right: .99rem;
      font-size: 3.25em;
      top: .38em;

      @include hamburger(30px, 3px, 1px, $colorBlack, 24px);

      &:focus {
        outline:none;
      }

      @media only screen and (min-width: $breakpointDesktop) {
        display: none;
      }
    }
  }

  &__list {
    text-align: left;
    list-style: none;
  }

  &__link {
    user-select:none;
    font-size:1em;
  }
}



@media only screen and (max-width: $breakpointTabletEnd) {
  .navigation {
    background:$colorWhite;
    line-height:1.5em;
    display: none;
    &__link {
      background-color:transparent;
      font-weight: 500;
      border:0 none;

      &:focus {
        outline:none;
      }

      &--childless:before {
        display:none;
      }

      &--active {
        background-color:$colorBlack;
        color:$colorWhite;

        &:hover {
          background-color:$colorBlack;
        }
      }
    }

    &__list {
      &__item {
        border-top: 1px solid $colorSilver;
        &--lang {
          display: flex;
          a {
            float: left;
            text-align: center;
            width: 50%;
            color: $colorSilver;
            &:first-child {
              border-right: 1px solid $colorSilver;
            }
            > strong {
              font-weight: 700;
              color: $colorBlack;
            }
          }
        }
        .socialShare {
          width: 100%;
          text-align: center;
          height: 5em;
          &__link {
            &--icon {
              margin: 1.3rem .6rem;
            }
          }
        }
      }
      &--firstLevel {
        max-height:100%;
        overflow-y:auto;
      }
      &--secondLevel {
        &[data-type=block_nav_list] {
          p {
            margin-bottom: 7.5vw;
          }
          br {
            display: none;
          }
          a {
            text-transform: none;
            margin: 5.5vw 16.5vw 2.5vw;
            display: flex;
            font-size: 1.2em;
            &:hover {
              border-color: transparent;
            }
          }
        }
        &[data-type=block_two_tabs] {
          .tabs {
            width: 100%;
            li {
              width: 50%;
            }
          }
          .tab--content {
            > div {
              p {
                margin-bottom: 7.5vw;
              }
              br {
                display: none;
              }
              a {
                text-transform: none;
                margin: 5.5vw 16.5vw 2.5vw;
                display: flex;
                font-size: 1.2em;
                &:hover {
                  border-color: transparent;
                }
              }

            }
          }
        }
      }
    }
  }
}

@media only screen and (min-width: $breakpointDesktop) {
  .navigation {
    &--primary {
      width: 100%;
      text-align: center;
      cursor:default;
    }
    &__list {
      &--firstLevel {
        display: inline;
        list-style: none;
      }

      &--secondLevel {
        display:none;
        transition:transform $animationTimingFast, opacity $animationTimingFast;
        position: absolute;
        text-align: left;
        background: rgba($colorWhite, 0.95);
        min-width: 7.5em;
        left:0;
        margin-top: 18.5px;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        backface-visibility:hidden;
        opacity:0;
        pointer-events:none;

        &:before {
          display:block;
          content:'';
          position:absolute;
          left:0;
          right:0;
          top:-22px;
          border-top: 22px solid transparent;
        }
      }

      &__item {
        display:inline-block;
        position:relative;
        padding: .25em .625em;
      }

      &__item:hover &--secondLevel {
        opacity:1;
        pointer-events:all;
      }

      &--secondLevel &__item {
        display:block;
        white-space:nowrap;
      }
    }

    &__link {
      transition:color $animationTimingFast;
      font-weight: 500;
      position: relative;
      display:block;

      .navigation__list--secondLevel & {
        padding:0.625em;
      }

      &--active {
        &:before {
          border-bottom: 2px solid $colorBlack;
          content:"";
          position: absolute;
          width: 100%;
          bottom: -8px;
          left: 0;
        }
      }

    }
  }
}
